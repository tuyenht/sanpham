function setAjaxData(e=null){var t={sysLangId:MdsConfig.sysLangId};return t[MdsConfig.csrfTokenName]=$('meta[name="X-CSRF-TOKEN"]').attr("content"),null!=e&&Object.assign(t,e),t}function setSerializedData(e){return e.push({name:"sysLangId",value:MdsConfig.sysLangId}),e.push({name:MdsConfig.csrfTokenName,value:$('meta[name="X-CSRF-TOKEN"]').attr("content")}),e}function swalOptions(e){return{text:e,icon:"warning",buttons:!0,buttons:[MdsConfig.textCancel,MdsConfig.textOk],dangerMode:!0}}$(document).ready(function(){$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/runEmailQueue",data:setAjaxData({})})});for(var menu_elements=document.getElementsByClassName("mega-menu-content"),i=0;i<menu_elements.length;i++){var e,t=menu_elements[i].id;document.getElementById(t).getElementsByClassName("col-category-images")[0]&&""==document.getElementById(t).getElementsByClassName("col-category-images")[0].innerHTML.trim()&&document.getElementById(t).classList.add("mega-menu-content-no-image")}$(document).ready(function(){function e(e){e.each(function(){var e=$(this),t=e.data("delay"),a="animated "+e.data("animation");e.css({"animation-delay":t,"-webkit-animation-delay":t}),e.addClass(a).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.removeClass(a)})})}$("#main-slider").on("init",function(t,a){var n=$("#main-slider .item:first-child").find("[data-animation]");e(n)}),$("#main-slider").on("beforeChange",function(t,a,n,s){var o=$('#main-slider .item[data-slick-index="'+s+'"]').find("[data-animation]");e(o)}),$("#main-slider").slick({autoplay:!0,autoplaySpeed:9e3,slidesToShow:1,slidesToScroll:1,infinite:!0,speed:500,fade:1==MdsConfig.sliderFadeEffect,swipeToSlide:!0,rtl:MdsConfig.rtl,cssEase:"linear",prevArrow:$("#main-slider-nav .prev"),nextArrow:$("#main-slider-nav .next")}),$("#main-mobile-slider").on("init",function(t,a){var n=$("#main-mobile-slider .item:first-child").find("[data-animation]");e(n)}),$("#main-mobile-slider").on("beforeChange",function(t,a,n,s){var o=$('#main-mobile-slider .item[data-slick-index="'+s+'"]').find("[data-animation]");e(o)}),$("#main-mobile-slider").slick({autoplay:!0,autoplaySpeed:9e3,slidesToShow:1,slidesToScroll:1,infinite:!0,speed:500,fade:1==MdsConfig.sliderFadeEffect,swipeToSlide:!0,rtl:MdsConfig.rtl,cssEase:"linear",prevArrow:$("#main-mobile-slider-nav .prev"),nextArrow:$("#main-mobile-slider-nav .next")}),0!=$("#slider_special_offers").length&&$("#slider_special_offers").slick({autoplay:!1,autoplaySpeed:4900,infinite:!0,speed:200,swipeToSlide:!0,rtl:MdsConfig.rtl,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#slider_special_offers_nav .prev"),nextArrow:$("#slider_special_offers_nav .next"),slidesToShow:5,slidesToScroll:5,responsive:[{breakpoint:992,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:2}}]}),$("#product_slider").slick({slidesToShow:1,slidesToScroll:1,speed:300,arrows:!0,fade:!0,infinite:!1,swipeToSlide:!0,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#product-slider-nav .prev"),nextArrow:$("#product-slider-nav .next"),asNavFor:"#product_thumbnails_slider"}),$("#product_thumbnails_slider").slick({slidesToShow:7,slidesToScroll:1,speed:300,focusOnSelect:!0,arrows:!1,infinite:!1,vertical:!0,centerMode:!1,arrows:!0,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#product-thumbnails-slider-nav .prev"),nextArrow:$("#product-thumbnails-slider-nav .next"),asNavFor:"#product_slider"}),$(document).on("click","#product_thumbnails_slider .slick-slide",function(){var e=$(this).attr("data-slick-index");$("#product_slider").slick("slickGoTo",parseInt(e))}),$("#brand-slider").slick({autoplay:!0,autoplaySpeed:2500,infinite:!0,speed:200,swipeToSlide:!0,rtl:MdsConfig.rtl,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#brand-slider-nav .prev"),nextArrow:$("#brand-slider-nav .next"),slidesToShow:8,slidesToScroll:8,responsive:[{breakpoint:992,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:768,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:3}}]}),$("#brand-slider").find("[aria-hidden]").removeAttr("aria-hidden"),$("#brand-slider").on("beforeChange",function(e,t,a,n){setTimeout(()=>{t.$slides.removeAttr("aria-hidden")},0)}),$("#blog-slider").slick({autoplay:!1,autoplaySpeed:4900,infinite:!0,speed:200,swipeToSlide:!0,rtl:MdsConfig.rtl,cssEase:"linear",prevArrow:$("#blog-slider-nav .prev"),nextArrow:$("#blog-slider-nav .next"),slidesToShow:3,slidesToScroll:3,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(document).on("click",".rating-stars .label-star",function(){$("#user_rating").val($(this).attr("data-star"))}),$(document).on("click",".btn-open-mobile-nav",function(){$("#navMobile").hasClass("nav-mobile-open")?($("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()):($("#navMobile").addClass("nav-mobile-open"),$("#overlay_bg").show())}),$(document).on("click","#overlay_bg",function(){$("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()}),$(document).on("click",".close-menu-click",function(){$("#navMobile").removeClass("nav-mobile-open"),$("#overlay_bg").hide()})});var obj_mobile_nav={id:"",name:"",parent_id:"",parent_name:"",back_button:1};function mobile_menu(){if($('.mega-menu li a[data-parent-id="'+obj_mobile_nav.id+'"]').length>0){if(1!=obj_mobile_nav.back_button&&$("#navbar_mobile_back_button").empty(),$("#navbar_mobile_categories").empty(),$("#navbar_mobile_back_button").empty(),1==obj_mobile_nav.back_button){if(0==obj_mobile_nav.parent_id)document.getElementById("navbar_mobile_back_button").innerHTML='<button type="button" class="nav-link button-link" data-id="0"><strong><i class="icon-angle-left"></i>'+obj_mobile_nav.name+"</strong></button>";else{var e=$('.mega-menu li a[data-id="'+obj_mobile_nav.parent_id+'"]').text();document.getElementById("navbar_mobile_back_button").innerHTML='<button type="button" class="nav-link button-link" data-id="'+obj_mobile_nav.parent_id+'" data-category-name="'+e+'"><strong><i class="icon-angle-left"></i>'+obj_mobile_nav.name+"</strong></button>"}var t=$('.mega-menu li a[data-id="'+obj_mobile_nav.id+'"]').attr("href");document.getElementById("navbar_mobile_categories").innerHTML='<li class="nav-item"><a href="'+t+'" class="nav-link">'+MdsConfig.textAll+"</a></li>"}$('.mega-menu li a[data-parent-id="'+obj_mobile_nav.id+'"]').each(function(){var e=$(this).attr("data-id"),t=obj_mobile_nav.id,a=$(this).attr("href"),n=$(this).text(),s=$(this).attr("data-has-sb"),o=!1,r=parseInt($('.navbar-nav a[data-parent-id="'+e+'"]').attr("data-id"));!isNaN(r)&&r>0&&(o=!0),1==s&&!0==o?$("#navbar_mobile_categories").append('<li class="nav-item"><button type="button" class="nav-link button-link" data-id="'+e+'" data-parent-id="'+t+'">'+n+'<i class="icon-arrow-right"></i></button></li>'):$("#navbar_mobile_categories").append('<li class="nav-item"><a href="'+a+'" class="nav-link">'+n+"</a></li>")}),$(".nav-mobile-links").addClass("slide-in-150s"),setTimeout(function(){$(".nav-mobile-links").removeClass("slide-in-150s")},150)}}function checkRecaptchaRegisterForm(e){var t=$(e).serializeArray(),a="";if($.each(t,function(e,t){"g-recaptcha-response"==t.name&&(a=t.value)}),a.length<5)return $(".g-recaptcha>div").addClass("is-invalid"),!1;$(".g-recaptcha>div").removeClass("is-invalid")}function sendActivationEmail(e,t){document.getElementById("confirmation-result-"+t).innerHTML="",$.ajax({type:"POST",url:MdsConfig.baseURL+"/Auth/sendActivationEmailPost",data:setAjaxData({token:e,type:t}),success:function(e){var a=JSON.parse(e);1==a.result?setTimeout(function(){document.getElementById("confirmation-result-"+t).innerHTML=a.successMessage},500):location.reload()}})}function deleteCoverImage(){$.ajax({type:"POST",url:MdsConfig.baseURL+"/Profile/deleteCoverImagePost",data:setAjaxData({}),success:function(e){location.reload()}})}function showImagePreview(e,t){var a=$(e).attr("data-img-id");if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){t?$("#"+a).css("background-image","url("+e.target.result+")"):$("#"+a).attr("src",e.target.result)},n.readAsDataURL(e.files[0])}}function selectProductVariationOption(e,t,a){var n=[];$(".input-product-variation").each(function(){var e=$(this).attr("data-id"),t=$(this).attr("data-type"),a="";"radio_button"==t&&(a=$("input[name='variation"+e+"']:checked").val()),"checkbox"==t&&(a=$("input[name='variation"+e+"']:checked").val()),"dropdown"==t&&(a=$("#variation_dropdown_"+e).val()),void 0==a&&(a="");var s={var_id:$(this).attr("data-id"),var_option_id:a};n.push(s)}),$.ajax({type:"POST",url:MdsConfig.baseURL+"/select-variation-option-post",data:setAjaxData({variation_id:e,selected_option_id:a,variation_array:n}),success:function(n){var s=JSON.parse(n);1==s.status&&(""!=s.htmlContentPrice&&(document.getElementById("product_details_price_container").innerHTML=s.htmlContentPrice),""!=s.htmlContentStock&&(document.getElementById("text_product_stock_status").innerHTML=s.htmlContentStock,0==s.stockStatus?$(".btn-product-cart").attr("disabled",!0):$(".btn-product-cart").attr("disabled",!1)),""!=s.htmlContentSlider&&($("#product_slider").slick("unslick"),$("#product_thumbnails_slider").slick("unslick"),document.getElementById("product_slider_container").innerHTML=s.htmlContentSlider,$("#product_slider").slick({slidesToShow:1,slidesToScroll:1,speed:300,arrows:!0,fade:!0,infinite:!1,swipeToSlide:!0,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#product-slider-nav .prev"),nextArrow:$("#product-slider-nav .next"),asNavFor:"#product_thumbnails_slider"}),$("#product_thumbnails_slider").slick({slidesToShow:7,slidesToScroll:1,speed:300,focusOnSelect:!0,arrows:!1,infinite:!1,vertical:!0,centerMode:!1,arrows:!0,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#product-thumbnails-slider-nav .prev"),nextArrow:$("#product-thumbnails-slider-nav .next"),asNavFor:"#product_slider"}))),"dropdown"==t&&getSubVariationOptions(e,a)}})}function getSubVariationOptions(e,t){$.ajax({type:"POST",url:MdsConfig.baseURL+"/get-sub-variation-options",data:setAjaxData({variation_id:e,selected_option_id:t}),success:function(e){var a=JSON.parse(e);1==a.status&&(""==t?document.getElementById("variation_dropdown_"+a.subVariationId).innerHTML="":document.getElementById("variation_dropdown_"+a.subVariationId).innerHTML=a.htmlContent)}})}function update_number_spinner(e){var e=e,t=e.closest(".number-spinner").find("input").val().trim(),a=0;a="up"==e.attr("data-dir")?parseInt(t)+1:t>1?parseInt(t)-1:1,e.closest(".number-spinner").find("input").val(a)}function removeCartDiscountCoupon(){$.ajax({type:"POST",url:MdsConfig.baseURL+"/Cart/removeCartDiscountCoupon",data:setAjaxData({}),success:function(e){location.reload()}})}function deleteReview(e,t){swal(swalOptions(t)).then(function(t){t&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/deleteReview",data:setAjaxData({id:e}),success:function(e){location.reload()}})})}$(document).on("click","#navbar_mobile_categories li button",function(){obj_mobile_nav.id=$(this).attr("data-id"),obj_mobile_nav.name=""!=$(this).text()?$(this).text():"",obj_mobile_nav.parent_id=null!=$(this).attr("data-parent-id")?$(this).attr("data-parent-id"):0,obj_mobile_nav.back_button=1,mobile_menu()}),$(document).on("click","#navbar_mobile_back_button button",function(){obj_mobile_nav.id=$(this).attr("data-id"),obj_mobile_nav.name=null!=$(this).attr("data-category-name")?$(this).attr("data-category-name"):"",obj_mobile_nav.parent_id=null!=$(this).attr("data-parent-id")?$(this).attr("data-parent-id"):0,0==obj_mobile_nav.id&&(obj_mobile_nav.back_button=0),mobile_menu()}),$(document).on("click",".nav-mobile-header-container .a-search-icon",function(){$(".mobile-search-form").hasClass("display-block")?($(".mobile-search-form").removeClass("display-block"),$("#searchIconMobile").removeClass("icon-close"),$("#searchIconMobile").addClass("icon-search")):($(".mobile-search-form").addClass("display-block"),$("#searchIconMobile").removeClass("icon-search"),$("#searchIconMobile").addClass("icon-close"))}),$(function(){$(".filter-custom-scrollbar").overlayScrollbars({}),$(".search-categories").overlayScrollbars({}),$(".custom-scrollbar").overlayScrollbars({})}),$(".mega-menu .nav-item").hover(function(){var e=$(this).attr("data-category-id");$("#mega_menu_content_"+e).show(),$(".large-menu-item").removeClass("active"),$(".large-menu-item-first").addClass("active"),$(".large-menu-content-first").addClass("active")},function(){var e=$(this).attr("data-category-id");$("#mega_menu_content_"+e).hide()}),$(".mega-menu .dropdown-menu").hover(function(){$(this).show()},function(){}),$(".large-menu-item").hover(function(){var e=$(this).attr("data-subcategory-id");$(".large-menu-item").removeClass("active"),$(this).addClass("active"),$(".large-menu-content").removeClass("active"),$("#large_menu_content_"+e).addClass("active")},function(){}),$(document).ready(function(){$(".row-img-product-list").hover(function(){var e=$(this).find("img.img-product"),t=e.data("second");e.stop().fadeTo(50,0,function(){e.attr("src",t).fadeTo(50,1)})},function(){var e=$(this).find("img.img-product"),t=e.data("first");e.stop().fadeTo(50,0,function(){e.attr("src",t).fadeTo(50,1)})})}),$(window).scroll(function(){$(this).scrollTop()>100?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return $("html, body").animate({scrollTop:0},700),!1}),$(document).on("click",".quantity-select-product .dropdown-menu .dropdown-item",function(){$(".quantity-select-product .btn span").text($(this).text()),$("input[name='product_quantity']").val($(this).text())}),$(document).on("click","#show_phone_number",function(){$(this).hide(),$("#phone_number").show()}),$(document).ready(function(){$(".select2").select2({placeholder:$(this).attr("data-placeholder"),height:42,dir:!0==MdsConfig.rtl?"rtl":"ltr",language:{noResults:function(){return MdsConfig.textNoResultsFound}}})}),$(document).bind("ready ajaxComplete",function(){var e=!0;!0==MdsConfig.rtl&&(e=!1),GLightbox({selector:".glightbox",touchNavigation:!0,loop:!1,zoomable:!1,draggable:!1})}),$(document).on("click","#btnGoToReviews",function(){$("#tab_reviews").tab("show");var e=$("#product_description_content");$("html, body").animate({scrollTop:$(e).offset().top},400)}),$(document).ready(function(){$("#form_login").submit(function(e){var t=$(this);if(!1===t[0].checkValidity())e.preventDefault(),e.stopPropagation();else{e.preventDefault(),t.find("input, select, button, textarea");var a=t.serializeArray();a=setSerializedData(a),$.ajax({type:"POST",url:MdsConfig.baseURL+"/login-post",data:a,success:function(e){var t=JSON.parse(e);1==t.result?location.reload():0==t.result&&(document.getElementById("result-login").innerHTML=t.errorMessage)}})}t[0].classList.add("was-validated")})}),$(document).on("click",".product-add-to-cart-container .number-spinner button",function(){update_number_spinner($(this))}),$(document).on("input keyup paste change",".number-spinner input",function(){var e=$(this).val();e=(e=e.replace(",","")).replace(".",""),$.isNumeric(e)||(e=1),isNaN(e)&&(e=1),$(this).val(e)}),$(document).on("input paste change",".cart-item-quantity .number-spinner input",function(){var e={product_id:$(this).attr("data-product-id"),cart_item_id:$(this).attr("data-cart-item-id"),quantity:$(this).val()};$.ajax({type:"POST",url:MdsConfig.baseURL+"/update-cart-product-quantity",data:setAjaxData(e),success:function(e){location.reload()}})}),$(document).on("click",".cart-item-quantity .btn-spinner-minus",function(){update_number_spinner($(this));var e=$(this).attr("data-cart-item-id");0!=$("#q-"+e).val()&&$("#q-"+e).change()}),$(document).on("click",".cart-item-quantity .btn-spinner-plus",function(){update_number_spinner($(this));var e=$(this).attr("data-cart-item-id");$("#q-"+e).change()}),$(document).on("click",".rate-product .rating-stars label",function(){var e=$(this).attr("data-product-id");$(".rate-product .rating-stars .label-rating-"+e+" i").removeClass("icon-star"),$(".rate-product .rating-stars .label-rating-"+e+" i").addClass("icon-star-o");var t=$(this).attr("data-star");$(".rate-product .rating-stars-modal label").each(function(){$(this).attr("data-star")<=t?($(this).find("i").removeClass("icon-star-o"),$(this).find("i").addClass("icon-star")):($(this).find("i").removeClass("icon-star"),$(this).find("i").addClass("icon-star-o"))})}),$(document).on("click",".rate-product .label-star-open-modal",function(){var e=$(this).attr("data-product-id"),t=$(this).attr("data-star");$("#rateProductModal #review_product_id").val(e),$("#rateProductModal #user_rating").val(t)}),$(document).on("click",".btn-add-review",function(){var e=$(this).attr("data-product-id");$("#rateProductModal #review_product_id").val(e)});let reviewsLoadOffset=MdsConfig.reviewsLoadLimit,commentsLoadOffset=MdsConfig.commentsLoadLimit,commentSubFormId=0;function addProductComment(e,t=0){var a=1==MdsConfig.isloggedIn,n=!0,s=e.serializeArray();if(objectSerialized={},$(s).each(function(e,t){objectSerialized[t.name]=t.value,"g-recaptcha-response"==t.name&&(gRecaptcha=t.value)}),!1==a&&(1>strLenght(objectSerialized.name)?(e.find('input[name="name"]').addClass("is-invalid"),n=!1):e.find('input[name="name"]').removeClass("is-invalid"),1>strLenght(objectSerialized.email)?(e.find('input[name="email"]').addClass("is-invalid"),n=!1):e.find('input[name="email"]').removeClass("is-invalid"),!0==MdsConfig.isRecaptchaEnabled&&!1==a&&(""==gRecaptcha?(e.find(".g-recaptcha").addClass("is-recaptcha-invalid"),n=!1):e.find(".g-recaptcha").removeClass("is-recaptcha-invalid"))),1>strLenght(objectSerialized.comment)?(e.find('textarea[name="comment"]').addClass("is-invalid"),n=!1):e.find('textarea[name="comment"]').removeClass("is-invalid"),!n)return!1;s.push({name:"limit",value:commentsLoadOffset}),s=setSerializedData(s),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/addComment",data:s,success:function(t){!0==MdsConfig.isRecaptchaEnabled&&!1==a&&grecaptcha.reset(),e[0].reset();var n=JSON.parse(t);1==n.status&&("message"==n.type?swal({text:n.message,icon:"success",button:MdsConfig.textOk}):document.getElementById("productCommentsListContainer").innerHTML=n.htmlContent,$(".visible-sub-comment").empty(),$(".no-comments-found").hide())}})}function showCommentForm(e){commentSubFormId==e?($("#subCommentForm"+e).empty(),commentSubFormId=0):($(".visible-sub-comment").empty(),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/loadSubCommentForm",data:setAjaxData({comment_id:e}),success:function(t){var a=JSON.parse(t);1==a.status&&(commentSubFormId=e,$("#subCommentForm"+e).append(a.htmlContent))}}))}function deleteComment(e,t,a){swal(swalOptions(a)).then(function(a){a&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/deleteComment",data:setAjaxData({id:e}),success:function(a){$("#li-"+t+"-"+e).remove()}})})}function isEmail(e){return!!/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function strLenght(e){return""==e||null==e?0:(e=e.trim()).length}function loadMoreBlogComments(e){var t=parseInt($("#blog_comment_limit").val());$("#load_comment_spinner").show(),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/loadMoreBlogComments",data:setAjaxData({post_id:e,limit:t}),success:function(e){var t=JSON.parse(e);"comments"==t.type&&setTimeout(function(){$("#load_comment_spinner").hide(),document.getElementById("comment-result").innerHTML=t.htmlContent},500)}})}function deleteBlogComment(e,t,a){swal(swalOptions(a)).then(function(a){if(a){var n=parseInt($("#blog_comment_limit").val());$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/deleteBlogComment",data:setAjaxData({comment_id:e,post_id:t,limit:n}),success:function(e){var t=JSON.parse(e);"comments"==t.type&&(document.getElementById("comment-result").innerHTML=t.htmlContent)}})}})}$(document).ready(function(){$("#formAddComment").submit(function(e){e.preventDefault();var t=$("#formAddComment");addProductComment(t,0)})}),$(document).on("click",".btn-submit-subcomment",function(e){e.preventDefault();var t=$(this).attr("data-comment-id"),a=$("#formAddSubcomment"+t);addProductComment(a,t)}),$(document).on("click","#btnLoadMoreProductReviews",function(){var e=$(this),t=Number($(this).attr("data-total"));reviewsLoadOffset=Number(reviewsLoadOffset);var a={product_id:$(this).attr("data-product"),offset:reviewsLoadOffset};e.find("svg").toggleClass("rotate"),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/loadMoreReviews",data:setAjaxData(a),success:function(a){var n=JSON.parse(a);1==n.status&&setTimeout(function(){e.find("svg").toggleClass("rotate"),$("#productReviewsListContainer").append(n.htmlContent),(reviewsLoadOffset+=Number(MdsConfig.reviewsLoadLimit))>=t&&e.hide()},300)}})}),$(document).on("click","#btnLoadMoreProductComments",function(){var e=$(this),t=Number($(this).attr("data-total"));commentsLoadOffset=Number(commentsLoadOffset);var a={product_id:$(this).attr("data-product"),offset:commentsLoadOffset};e.find("svg").toggleClass("rotate"),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/loadMoreComments",data:setAjaxData(a),success:function(a){var n=JSON.parse(a);1==n.status&&setTimeout(function(){e.find("svg").toggleClass("rotate"),$("#productCommentsListContainer").append(n.htmlContent),(commentsLoadOffset+=Number(MdsConfig.commentsLoadLimit))>=t&&e.hide()},300)}})}),$(document).on("click","#btnCreateAffiliateLink",function(){var e={product_id:$(this).attr("data-id"),lang_id:MdsConfig.sysLangId};$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/createAffiliateLink",data:setAjaxData(e),success:function(e){var t=JSON.parse(e);1==t.status&&($("#spanAffLink").text(t.response),$("#affliateLinkModal").modal("show"))}})}),$(document).on("click","#btnCopyAffLink",function(){var e=$("#spanAffLink").text();navigator.clipboard.writeText(e),$("#btnCopyAffLink").text(MdsConfig.textCopied),setTimeout(function(){$("#btnCopyAffLink").text(MdsConfig.textCopyLink)},2e3)}),$(document).ready(function(){$("#form_add_blog_comment").submit(function(e){e.preventDefault();var t=!0,a=!0,n=$("#form_add_blog_comment").serializeArray();if(objectSerialized={},$(n).each(function(e,t){objectSerialized[t.name]=t.value,"g-recaptcha-response"==t.name&&(gRecaptcha=t.value)}),$("#form_add_blog_comment").find("#comment_name").length>0&&(t=!1),!1==t&&(1>strLenght(objectSerialized.name)?($("#comment_name").addClass("is-invalid"),a=!1):$("#comment_name").removeClass("is-invalid"),1>strLenght(objectSerialized.email)?($("#comment_email").addClass("is-invalid"),a=!1):$("#comment_email").removeClass("is-invalid"),!0==MdsConfig.isRecaptchaEnabled&&!1==t&&(""==gRecaptcha?($("#form_add_blog_comment .g-recaptcha").addClass("is-recaptcha-invalid"),a=!1):$("#form_add_blog_comment .g-recaptcha").removeClass("is-recaptcha-invalid"))),1>strLenght(objectSerialized.comment)?($("#comment_text").addClass("is-invalid"),a=!1):$("#comment_text").removeClass("is-invalid"),!a)return!1;n.push({name:"limit",value:parseInt($("#blog_comment_limit").val())}),n=setSerializedData(n),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/addBlogComment",data:n,success:function(e){!0==MdsConfig.isRecaptchaEnabled&&!1==t&&grecaptcha.reset(),$("#form_add_blog_comment")[0].reset();var a=JSON.parse(e);"message"==a.type?swal({text:a.message,icon:"success",button:MdsConfig.textOk}):document.getElementById("comment-result").innerHTML=a.htmlContent}})})}),$("#formSendChatMessage").submit(function(e){e.preventDefault();var t=$("#formSendChatMessage input[name=subject]"),a=$("#formSendChatMessage textarea[name=message]");if(t.val().length<1)return t.addClass("is-invalid"),!1;if(t.removeClass("is-invalid"),a.val().length<1)return a.addClass("is-invalid"),!1;a.removeClass("is-invalid"),$("#formSendChatMessage .form-group :input").prop("disabled",!0);var n={subject:t.val(),message:a.val(),receiver_id:$("#formSendChatMessage input[name=receiver_id]").val(),product_id:$("#formSendChatMessage input[name=product_id]").val()};$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/addChatPost",data:setAjaxData(n),success:function(e){var t=JSON.parse(e);1==t.result&&(document.getElementById("chatSendMessageResult").innerHTML=t.htmlContent,a.val("")),$("#formSendChatMessage .form-group :input").prop("disabled",!1)}})}),$(document).on("click",".chat .chat-contact",function(){$(".chat-contact").removeClass("active"),$(this).addClass("active");let e=$(this).attr("data-chat-id");$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/loadChatPost",data:setAjaxData({chat_id:e}),success:function(t){var a=JSON.parse(t);1===a.status&&($("#inputChatId").val(e),$("#inputChatReceiverId").val(a.receiverId),$("#inputChatMessage").val(""),updateChatContacts(a.arrayChats),document.getElementById("chatUserContainer").innerHTML=a.htmlchatUser,document.getElementById("chatMessagesContainer").innerHTML=a.htmlContentMessages,document.getElementById("chatInputContainer").innerHTML=a.htmlChatForm,$("#mdsChat").addClass("chat-mobile-open"),$("#mdsChat").removeClass("chat-empty"),$("#messagesContainer"+e).scrollTop($("#messagesContainer"+e)[0].scrollHeight),$("#chatBadge"+e).hide())}})});const mdsChat=document.getElementById("mdsChat");function sendChatMessage(){var e=$("#formChat input[name=chat_id]").val(),t=$("#formChat input[name=receiver_id]").val(),a=$("#formChat input[name=message]").val();if(a.trim().length<1)return!1;$("#inputChatMessage").prop("disabled",!0),$("#formChat button").prop("disabled",!0),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/sendMessagePost",data:setAjaxData({chat_id:e,receiver_id:t,message:a}),success:function(e){var t=JSON.parse(e);1===t.status&&(updateChatContacts(t.arrayChats),appendNewChatMessages(t.arrayMessages,t.chatId),$("#messagesContainer"+t.chatId).scrollTop($("#messagesContainer"+t.chatId)[0].scrollHeight),$("#inputChatMessage").prop("disabled",!1),$("#formChat button").prop("disabled",!1),$("#inputChatMessage").val(""))}})}function updateChatContacts(e){var t=document.getElementById("chatContactsContainer"),a="";for(let n=0;n<e.length;n++)a+='<div class="item">\n<div class="chat-contact '+e[n].class+'" data-chat-id="'+e[n].chatId+'">\n<div class="flex-item">\n<div class="item-img">\n<img src="'+e[n].avatar+'" alt="'+e[n].username+'">\n</div>\n</div>\n<div class="flex-item flex-item-center">\n<h6 class="username">'+e[n].username+'</h6>\n<p class="subject">'+e[n].subject+"</p>\n",e[n].updatedAt&&(a+='<div class="time"><span>'+e[n].updatedAt+"</span></div>\n"),a+="</div>\n",e[n].numUnreadMessages>0&&(a+='<div class="flex-item">\n<label id="chatBadge'+e[n].chatId+'" class="badge badge-success">'+e[n].numUnreadMessages+"</label>\n</div>\n"),a+="</div>\n</div>";t.innerHTML=a,searchContacts()}function appendNewChatMessages(e,t){if(null!=e&&document.getElementById("messagesContainer"+t)){for(let a=0;a<e.length;a++)if(!document.getElementById("chatMessage"+e[a].id)){if(!0===e[a].isRight)var n='<div id="chatMessage'+e[a].id+'" class="message message-right">\n<div class="flex-item">\n<div class="message-text">'+e[a].message+'</div>\n<div class="time">\n<span>'+e[a].time+'</span>\n</div>\n</div>\n<div class="flex-item item-user">\n<div class="user-img">\n<img src="'+e[a].avatar+'" alt="" class="img-profile">\n</div>\n</div>\n</div>';else var n='<div id="chatMessage'+e[a].id+'" class="message">\n<div class="flex-item item-user">\n<div class="user-img">\n<img src="'+e[a].avatar+'" alt="" class="img-profile">\n</div>\n</div>\n<div class="flex-item">\n<div class="message-text">'+e[a].message+'</div>\n<div class="time">\n<span>'+e[a].time+"</span>\n</div>\n</div>\n</div>";$("#messagesContainer"+t).append(n)}}}function searchContacts(){var e=$("#chatSearchContacts").val().toLowerCase();$(".chat-contacts .chat-contact").each(function(t,a){var n=$(this).find(".username").text().toLowerCase(),s=$(this).find(".subject").text().toLowerCase();n.indexOf(e)>-1||s.indexOf(e)>-1?$(this).show():$(this).hide()})}function deleteChat(e,t){swal(swalOptions(t)).then(function(t){t&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/deleteChatPost",data:setAjaxData({chat_id:e}),success:function(e){location.reload()}})})}function removeFromCart(e){$.ajax({type:"POST",url:MdsConfig.baseURL+"/Cart/removeFromCart",data:setAjaxData({cart_item_id:e}),success:function(e){location.reload()}})}function validateVariations(e){$("#"+e+" .custom-control-variation input").each(function(){if($(this).hasClass("error")){var t=$(this).attr("id");$("#"+e+" .custom-control-variation label").each(function(){$(this).attr("for")==t&&$(this).addClass("is-invalid")})}else{var t=$(this).attr("id");$("#"+e+" .custom-control-variation label").each(function(){$(this).attr("for")==t&&$(this).removeClass("is-invalid")})}})}function approveOrderProduct(e,t){swal(swalOptions(t)).then(function(t){t&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Order/approveOrderProductPost",data:setAjaxData({order_product_id:e}),success:function(e){location.reload()}})})}function cancelOrder(e,t){swal(swalOptions(t)).then(function(t){t&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Order/cancelOrderPost",data:setAjaxData({order_id:e}),success:function(e){location.reload()}})})}function deleteAffiliateLink(e,t){swal(swalOptions(t)).then(function(t){t&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Profile/deleteAffiliateLinkPost",data:setAjaxData({link_id:e}),success:function(e){location.reload()}})})}function getShippingMethodsByLocation(e){$("#cart_shipping_methods_container").hide(),$(".cart-shipping-loader").show(),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Cart/getShippingMethodsByLocation",data:setAjaxData({state_id:e}),success:function(e){var t=JSON.parse(e);1==t.result&&(document.getElementById("cart_shipping_methods_container").innerHTML=t.htmlContent,setTimeout(function(){$("#cart_shipping_methods_container").show(),$(".cart-shipping-loader").hide()},400))}})}function validateFileInput(e){$("#"+e).val()||($("#"+e+"_flash_error").show(),setTimeout(function(){$("#"+e+"_flash_error").hide()},5e3))}function reportAbuse(e,t){var a=$("#"+e).serializeArray();a.push({name:"item_type",value:t}),a=setSerializedData(a),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/reportAbusePost",data:a,success:function(t){var a=JSON.parse(t);""!=a.message&&(document.getElementById("response_"+e).innerHTML=a.message,$("#"+e)[0].reset())}})}function search(e,t){var a="response_search_results";if("mobile"==t&&(a+="_mobile"),e.length<3)return $("#"+a).hide(),!1;var n={input_value:e,lang_base_url:MdsConfig.langBaseURL};$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/ajaxSearch",data:setAjaxData(n),success:function(e){var t=JSON.parse(e);1==t.result&&t.rowCount>0?(document.getElementById(a).innerHTML=t.response,$("#"+a).show()):document.getElementById(a).innerHTML=""}})}function addQueryParam(e,t,a){let n=new URL(e),s=new URLSearchParams(n.search);return s.set(t,a),n.search=s.toString(),n.toString()}function removeQueryParam(e,t){let a=new URL(e),n=new URLSearchParams(a.search);return n.delete(t),a.search=n.toString(),a.toString()}function updatePageNumberInUrl(e){let t=new URL(window.location.href);t.searchParams.set("page",e),window.history.replaceState({},"",t)}function removeUnsafeCharacters(e){return e.replace(/[&<>"'/#%?=@+,:;*[\]{}|\\^~`()[\]$!]/g,"")}mdsChat&&setInterval(function(){var e=$("#inputChatId").val();$.ajax({type:"GET",url:MdsConfig.baseURL+"/Ajax/updateChatGet",data:{chat_id:e},success:function(t){var a=JSON.parse(t);1===a.status&&(updateChatContacts(a.arrayChats),e&&(appendNewChatMessages(a.arrayMessages,a.chatId),$("#messagesContainer"+e).scrollTop($("#messagesContainer"+e)[0].scrollHeight)))}})},1e3*MdsConfig.chatUpdateTime),$(document).on("click","#btnChatSubmit",function(){sendChatMessage()}),$(document).on("change keyup paste","#chatSearchContacts",function(){searchContacts()}),$(document).on("click","#btnOpenChatContacts",function(){$("#mdsChat").removeClass("chat-mobile-open")}),$("#form_add_cart").submit(function(e){$("#modalAddToCart").modal("hide");var t=$(this);if(!1===t[0].checkValidity())e.preventDefault(),e.stopPropagation(),setTimeout(function(){validateVariations("form_add_cart")},50);else{e.preventDefault(),$("#form_add_cart .btn-product-cart").prop("disabled",!0),$("#form_add_cart .btn-product-cart .btn-cart-icon").html('<span class="spinner-border spinner-border-add-cart"></span>');var a=t.serializeArray();a=setSerializedData(a),$.ajax({type:"POST",url:MdsConfig.baseURL+"/cart/add-to-cart",data:a,success:function(e){var t=JSON.parse(e);1==t.result&&(setTimeout(function(){document.getElementById("contentModalCartProduct").innerHTML=t.htmlCartProduct,$("#form_add_cart .btn-product-cart").html('<i class="icon-check"></i>'+MdsConfig.textAddedtoCart),$(".span_cart_product_count").html(t.productCount),$(".span_cart_product_count").removeClass("visibility-hidden"),$(".span_cart_product_count").addClass("visibility-visible"),$("#modalAddToCart").modal("show")},400),setTimeout(function(){$("#form_add_cart .btn-product-cart").html('<span class="btn-cart-icon"><i class="icon-cart-solid"></i></span>'+MdsConfig.textAddtoCart),$("#form_add_cart .btn-product-cart").prop("disabled",!1)},1e3))}})}t[0].classList.add("was-validated")}),$(document).on("click",".btn-item-add-to-cart",function(){var e=$(this).attr("data-product-id"),t=$(this).attr("data-id");document.getElementById("btn_add_cart_"+t).innerHTML='<div class="spinner-border spinner-border-add-cart-list"></div>',$.ajax({type:"POST",url:MdsConfig.baseURL+"/cart/add-to-cart",data:setAjaxData({product_id:e,is_ajax:!0}),success:function(e){var a=JSON.parse(e);1==a.result&&(setTimeout(function(){document.getElementById("contentModalCartProduct").innerHTML=a.htmlCartProduct,$("#btn_add_cart_"+t).css("background-color","rgb(40, 167, 69, .7)"),document.getElementById("btn_add_cart_"+t).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2" viewBox="0 0 16 16">\n<path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>\n</svg>',$(".span_cart_product_count").html(a.productCount),$(".span_cart_product_count").removeClass("visibility-hidden"),$(".span_cart_product_count").addClass("visibility-visible"),$("#modalAddToCart").modal("show")},400),setTimeout(function(){$("#btn_add_cart_"+t).css("background-color","rgba(255, 255, 255, .7)"),document.getElementById("btn_add_cart_"+t).innerHTML='<i class="icon-cart"></i>'},2e3))}})}),$(document).ready(function(){$("#use_same_address_for_billing").change(function(){$(this).is(":checked")?($(".cart-form-billing-address").hide(),$(".cart-form-billing-address select").removeClass("select2-req")):($(".cart-form-billing-address").show(),$(".cart-form-billing-address select").addClass("select2-req"))})}),$(document).on("click",".btn-modal-location-header",function(){$("#locationModal").removeClass("location-modal-estimated-delivery"),$("#locationModal").find('input[name="form_type"]').val("filter")}),$(document).on("click",".btn-modal-location-product",function(){$("#locationModal").addClass("location-modal-estimated-delivery"),$("#locationModal").find('input[name="form_type"]').val("set_user_location")}),$(document).on("click","#btnShowCartShippingError",function(){$("#cartShippingError").show(),setTimeout(function(){$("#cartShippingError").hide()},5e3)}),$("#form_report_product").submit(function(e){e.preventDefault(),reportAbuse("form_report_product","product")}),$("#form_report_seller").submit(function(e){e.preventDefault(),reportAbuse("form_report_seller","seller")}),$("#form_report_review").submit(function(e){e.preventDefault(),reportAbuse("form_report_review","review")}),$("#form_report_comment").submit(function(e){e.preventDefault(),reportAbuse("form_report_comment","comment")}),$(".profile-cover-image")[0]&&document.addEventListener("lazybeforeunveil",function(e){var t=e.target.getAttribute("data-bg-cover");t&&(e.target.style.backgroundImage="url("+t+")")}),$(document).on("input","#input_search_main",function(){var e=$(this).val();e&&search(e,"desktop")}),$(document).on("input","#input_search_mobile",function(){var e=$(this).val();e&&search(e,"mobile")}),$(document).on("click",function(e){0===$(e.target).closest(".top-search-bar").length&&$("#response_search_results").hide()}),$(document).on("change keyup paste",".filter-search-input",function(){var e=$(this).attr("data-filter-id"),t=$(this).val().toLowerCase();$("#"+e+" li").each(function(e,a){$(this).find("label").text().toLowerCase().indexOf(t)>-1?$(this).show():$(this).hide()})}),$(document).ready(function(){let e=!1,t=$("#productListContent").attr("data-has-more"),a=$("#productListContent").attr("data-user-id"),n=$("#productListContent").attr("data-coupon-id");if($("#productListContent").length&&1==t){let s=document.querySelector("#footer"),o=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting&&function s(){if(!0==e||!1==t)return!1;let o=new URLSearchParams(window.location.search),r={};for(let[l,c]of o.entries())r[l]=c;if(void 0===r.page)r.page=1;else if(isNaN(r.page)||r.page<=0)return!1;r.page=Number(r.page)+1,e=!0,$("#loadProductsSpinner").show();var d={category_id:$("#productListContent").attr("data-category"),user_id:a,coupon_id:n,params:r,sysLangId:MdsConfig.sysLangId};$.ajax({type:"GET",url:MdsConfig.baseURL+"/mds/load-products",data:d,success:function(a){setTimeout(function(){var n=JSON.parse(a);1==n.result&&($("#productListResultContainer").append(n.htmlContent),updatePageNumberInUrl(n.pageNumber)),t=n.hasMore,e=!1,$("#loadProductsSpinner").hide()},150)},error:function(){e=!1,$("#loadProductsSpinner").hide()}})}()})},{rootMargin:"0px",threshold:.1});o.observe(s)}}),$(document).on("click","#btnShowPreviousProducts",function(){let e=window.location.href,t=new URL(window.location.href),a="",n=new URLSearchParams(t.search),s=parseInt(n.get("page"))||1;a=addQueryParam(a=removeQueryParam(e,"page"),"page",s>1?s-1:1),window.location.href=a}),$(document).on("click",".dropdownSortOptions button",function(){var e=window.location.href,t=$(this).attr("data-action");("most_recent"==t||"lowest_price"==t||"highest_price"==t||"highest_rating"==t)&&(e=removeQueryParam(e,"sort"),e=addQueryParam(e=removeQueryParam(e,"page"),"sort",t),$("#productListProfile").length&&!e.includes("#products")&&(e+="#products"),window.location.href=e)}),$(document).on("click","#btnFilterByKeyword",function(){var e=window.location.href,t=e,a=$("#input_filter_keyword").val().trim();let n=!0;$("#price_min").removeClass("is-invalid"),$("#price_max").removeClass("is-invalid"),$("#price_min")[0].validity.valid||(n=!1,$("#price_min").addClass("is-invalid")),$("#price_max")[0].validity.valid||(n=!1,$("#price_max").addClass("is-invalid"));var s=parseFloat($("#price_min").val()),o=parseFloat($("#price_max").val());if(s>=o&&(n=!1,$("#price_min").addClass("is-invalid"),$("#price_max").addClass("is-invalid")),!1==n)return!1;t=removeQueryParam(t,"p_min"),t=removeQueryParam(t,"p_max"),t=removeQueryParam(t,"search"),""!==s&&s>0&&(t=addQueryParam(t,"p_min",s)),""!==o&&o>0&&(t=addQueryParam(t,"p_max",o)),""!==a&&(a=removeUnsafeCharacters(a),t=addQueryParam(t,"search",a)),$("#productListProfile").length&&!t.includes("#products")&&(t+="#products"),t!=e&&(t=removeQueryParam(t,"page")),window.location.href=t});var pagePromotedProducts=1;function loadMorePromotedProducts(){$("#load_promoted_spinner").show();var e={page:++pagePromotedProducts};$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/loadMorePromotedProducts",data:setAjaxData(e),success:function(e){var t=JSON.parse(e);1==t.result?setTimeout(function(){$("#row_promoted_products").append(t.htmlContent),$("#load_promoted_spinner").hide(),!1==t.hasMore&&$(".promoted-load-more-container").hide()},200):setTimeout(function(){$("#load_promoted_spinner").hide(),!1==t.hasMore&&$(".promoted-load-more-container").hide()},200)}})}function getStates(e,t=""){""!=t&&(t="_"+t),$("#select_states"+t).children("option").remove(),$("#get_states_container"+t).hide(),$("#select_cities"+t).length&&($("#select_cities"+t).children("option").remove(),$("#get_cities_container"+t).hide()),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/getStates",data:setAjaxData({country_id:e}),success:function(e){var a=JSON.parse(e);1==a.result?(document.getElementById("select_states"+t).innerHTML=a.content,$("#get_states_container"+t).show()):(document.getElementById("select_states"+t).innerHTML="",$("#get_states_container"+t).hide())}})}function getCities(e,t=""){""!=t&&(t="_"+t),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/getCities",data:setAjaxData({state_id:e}),success:function(e){var a=JSON.parse(e);1==a.result?(document.getElementById("select_cities"+t).innerHTML=a.content,$("#get_cities_container"+t).show()):(document.getElementById("select_cities"+t).innerHTML="",$("#get_cities_container"+t).hide())}})}function hideCookiesWarning(){$(".cookies-warning").hide(),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/hideCookiesWarning",data:setAjaxData({}),success:function(e){}})}function checkStateSelected(e){$("#"+e).val()?$("[aria-controls='select2-"+e+"-container']").removeClass("error"):$("[aria-controls='select2-"+e+"-container']").addClass("error")}function deleteQuoteRequest(e,t){swal(swalOptions(t)).then(function(t){t&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Order/deleteQuoteRequest",data:setAjaxData({id:e}),success:function(e){location.reload()}})})}function getProductShippingCost(e,t){$("#product_shipping_cost_container").empty(),$(".product-shipping-loader").show(),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/getProductShippingCost",data:setAjaxData({state_id:e,product_id:t}),success:function(e){var t=JSON.parse(e);1==t.result&&setTimeout(function(){document.getElementById("product_shipping_cost_container").innerHTML=t.response,$(".product-shipping-loader").hide()},300)}})}function deleteShippingAddress(e,t){swal(swalOptions(t)).then(function(t){t&&$.ajax({type:"POST",url:MdsConfig.baseURL+"/Profile/deleteShippingAddressPost",data:setAjaxData({id:e}),success:function(e){location.reload()}})})}function deleteSupportAttachment(e){$.ajax({type:"POST",url:MdsConfig.baseURL+"/Support/deleteSupportAttachmentPost",data:setAjaxData({id:e,ticket_type:"client"}),success:function(e){var t=JSON.parse(e);1==t.result&&(document.getElementById("response_uploaded_files").innerHTML=t.response)}})}function closeSupportTicket(e){$.ajax({type:"POST",url:MdsConfig.baseURL+"/close-ticket-post",data:setAjaxData({id:e}),success:function(e){location.reload()}})}function loadProductShopLocationMap(){var e=$("#span_shop_location_address").text();e=encodeURIComponent(e);var t="en";MdsConfig.langShort&&(t=MdsConfig.langShort),document.getElementById("iframe_shop_location_address").setAttribute("src","https://maps.google.com/maps?width=100%&height=600&hl="+t+"&q="+e+"&ie=UTF8&t=&z=8&iwloc=B&output=embed&disableDefaultUI=true")}$(document).on("click",".btn-add-remove-wishlist",function(){var e=$(this).attr("data-product-id"),t=$(this).attr("data-type");"list"==t&&($(this).find("i").hasClass("icon-heart-o")?($(this).find("i").removeClass("icon-heart-o"),$(this).find("i").addClass("icon-heart")):($(this).find("i").removeClass("icon-heart"),$(this).find("i").addClass("icon-heart-o"))),"details"==t&&($(this).find("i").hasClass("icon-heart-o")?$(".product-add-to-cart-container .btn-add-remove-wishlist").html('<i class="icon-heart"></i><span>'+MdsConfig.textRemoveFromWishlist+"</span>"):$(".product-add-to-cart-container .btn-add-remove-wishlist").html('<i class="icon-heart-o"></i><span>'+MdsConfig.textAddtoWishlist+"</span>")),$.ajax({type:"POST",url:MdsConfig.baseURL+"/add-remove-wishlist-post",data:setAjaxData({product_id:e}),success:function(e){}})}),$("#form_validate").submit(function(){$(".custom-control-validate-input").removeClass("custom-control-validate-error"),setTimeout(function(){$(".custom-control-validate-input .error").each(function(){var e=$(this).attr("name");$(this).is(":visible")&&$(".label_validate_"+(e=e.replace("[]",""))).addClass("custom-control-validate-error")})},100)}),$(".custom-control-validate-input input").click(function(){var e=$(this).attr("name");$(".label_validate_"+(e=e.replace("[]",""))).removeClass("custom-control-validate-error")}),$(document).ready(function(){$(".validate-form").length>0&&$(".validate-form").each(function(e,t){var a=$(this).attr("id");$("#"+a).validate()})}),$(".validate-form").submit(function(){$(".select2-req").each(function(e,t){var a=$(this).attr("id"),n=$(this).val();""==n||null==n||void 0==n?$('.select2-selection[aria-controls="select2-'+a+'-container"]').addClass("error"):$('.select2-selection[aria-controls="select2-'+a+'-container"]').removeClass("error")})}),$(document).on("change",".select2-req",function(){var e=$(this).attr("id");$('.select2-selection[aria-controls="select2-'+e+'-container"]').hasClass("error")&&$('.select2-selection[aria-controls="select2-'+e+'-container"]').removeClass("error")}),$("#input_vendor_files").on("change",function(e){$("#label_vendor_files").html("");for(var t=$(this).prop("files"),a=0;a<t.length;a++){var n="<span class='badge badge-secondary'>"+t[a].name+"</span><br>";$("#container_vendor_files").append(n)}}),$("#form_validate").validate(),$("#form_add_cart").validate(),$("#form_request_quote").validate(),$("#form_validate_checkout").validate(),$("#form_request_quote").submit(function(e){setTimeout(function(){validateVariations("form_request_quote")},50)}),$(document).on("click",".custom-control-variation input",function(){var e=$(this).attr("name");$(".custom-control-variation label").each(function(){$(this).attr("data-input-name")==e&&$(this).removeClass("is-invalid")})}),$(document).ready(function(){$(".validate_terms").submit(function(e){$(".custom-control-validate-input p").remove(),$(".custom-control-validate-input input").is(":checked")?$(".custom-control-validate-input").removeClass("custom-control-validate-error"):(e.preventDefault(),$(".custom-control-validate-input").addClass("custom-control-validate-error"),$(".custom-control-validate-input").append("<p class='text-danger'>"+MdsConfig.textAcceptTerms+"</p>"))})}),$(document).on("input keyup paste change",".validate_price .price-input",function(){var e=$(this).val();e=e.replace(",","."),$.isNumeric(e)&&0!=e?$(this).removeClass("is-invalid"):$(this).addClass("is-invalid")}),$(document).ready(function(){$(".validate_price").submit(function(e){$(".validate_price .validate-price-input").each(function(){var t=$(this).val();""!=t&&(t=t.replace(",","."),$.isNumeric(t)&&0!=t?$(this).removeClass("is-invalid"):(e.preventDefault(),$(this).addClass("is-invalid"),$(this).focus()))})})}),$(document).on("input keyup paste change",".price-input",function(){var e=$(this).val();e=e.replace(/[^\d.]|\.(?=.*\.)/g,""),$(this).val(e)}),$(document).ready(function(){$("iframe").attr("allowfullscreen","")}),$(document).ready(function(){$("#form_newsletter_footer").submit(function(e){e.preventDefault();var t=$(this).serializeArray();t=setSerializedData(t),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/addToNewsletter",data:t,success:function(e){var t=JSON.parse(e);1==t.result&&(1==t.isSuccess?swal({text:t.message,icon:"success",button:MdsConfig.textOk}):swal({text:t.message,icon:"warning",button:MdsConfig.textOk}),$("#form_newsletter_footer input").val(""))}})})}),$(document).ready(function(){$("#form_newsletter_modal").submit(function(e){e.preventDefault();var t=$(this).serializeArray();t=setSerializedData(t),$.ajax({type:"POST",url:MdsConfig.baseURL+"/Ajax/addToNewsletter",data:t,success:function(e){var t=JSON.parse(e);1==t.result&&(1==t.isSuccess?swal({text:t.message,icon:"success",button:MdsConfig.textOk}):swal({text:t.message,icon:"warning",button:MdsConfig.textOk}),$("#form_newsletter_modal input").val(""))}})})}),$(document).on("change",".input-show-selected",function(){var e=$(this).attr("data-id"),t=$(this).val();$("#"+e).html(t.replace(/.*[\/\\]/,""))}),$(".fb-comments").length>0&&$(".fb-comments").attr("data-href",window.location.href),$(".post-text-responsive").length>0&&$(function(){$(".post-text-responsive iframe").wrap('<div class="embed-responsive embed-responsive-16by9"></div>'),$(".post-text-responsive iframe").addClass("embed-responsive-item")}),$("#productVideoModal").on("hidden.bs.modal",function(e){$(this).find("video")[0].pause()}),$("#productAudioModal").on("hidden.bs.modal",function(e){Amplitude.pause()}),$(document).ready(function(){$(".circle-loader").toggleClass("load-complete"),$(".checkmark").toggle()}),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip()});